# websocket 的封装

参考文章：
[掘金的一篇（但是好像不是工作中用的，大部分代码还是非常有参考意义的）](https://juejin.cn/post/7371365854012276747?searchId=20250523101418CD877DA784B005129D2C)

[CSDN 的一篇使用Promise封装的，基本思路很对，但是代码不太完善](https://blog.csdn.net/weixin_62328265/article/details/146507612)

## 初步的设计思路

设计模式使用：

单例模式：就是使用类似于 Vuex 的全局状态管理
原型模式：就是一些交互的方法可以直接卸载原型中，直接调用即可

要点设计：

每个消息有一个唯一的id来进行区分,放到 Map 里面，然后消息回来的时候根据id 进行 resolve 或者 reject，最后从Map中进行删除，防止占用内存
