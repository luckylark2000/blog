# 端到端测试框架Cypress和Playwright对比

## 介绍

简单介绍一下，Cypress 这个框架是老牌端到端测试框架，单项目、单浏览器上下文的测试工具，对谷歌内核支持度较好，其它的一般，不支持跨标签，跨窗口，跨域。Github 的 star 数 50K 左右。

Playwright 这个框架是微软的开源端到端自动化测试框架，原生支持多项目，主流浏览器内核全都支持，多标签、多标签、多窗口全部支持，大厂开源非常给力。

> Cypress 的槽点比较多的就是，在国内经常出现安装失败的情况，需要单独设置镜像依赖源

## 关键特性对比表

| 特性 | Cypress | Playwright |
|------|--------|-----------|
| 浏览器支持 | Chromium, Firefox（有限） | ✅ Chromium, WebKit (Safari), Firefox |
| 多标签/弹窗 | ❌ 原生不支持（需 hack） | ✅ 原生支持 |
| 跨域测试 | ✅（v12+ `cy.origin()`） | ✅ 原生支持 |
| 移动端模拟 | 有限（仅 viewport） | ✅ 完整设备模拟（触摸、UA 等） |
| 多语言支持 | ❌ 仅 JS/TS | ✅ JS/TS, Python, Java, .NET |
| 调试体验 | ⭐⭐⭐⭐⭐（GUI + Time Travel） | ⭐⭐⭐⭐（VS Code 插件 + Trace Viewer） |
| 安装便捷性 | ❌ 国内容易失败 | ✅ 可配镜像，更稳定 |
| 社区 & 生态 | 成熟，插件丰富 | 快速增长，微软背书 |
| 适用规模 | 中小型项目、快速迭代团队 | 大型项目、高兼容性要求 |

playwright 的 vscode 插件挺好用，要求 `node 18` 以上，官方文档还算完善

## 我的Playwright实践

跨端多项目端到端测试，主要解决的是由于有时候时间紧任务急，着急发版，偶尔发生冒烟测试不通过的问题。

项目初始定位不是抢测试的活，一股脑所有测试场景全部覆盖。我们的打算是使用自动化测试，优先覆盖冒烟测试的一些场景，后续不断迭代

难点：

- 资料缺少，可借鉴的缺少，最新的文档全英文
- 跨项目自动化测试用例的编写
- 用例复用登录状态，记录并复用 sessionStorage
- 去硬件设备依赖
- 自动化生成随机图片
- 测试用例颗粒化，复用逻辑
- 测试用例设计，保证输出报告高效准确

成果：手动测试一个场景十几分钟，自动化测试一个场景几十秒，速度提升。

完整包含冒烟测试，解决大部分难点

提升了

自己也在这个快速的自动化测试中，发现了一些 bug

项目理解更加深入

英文读写水平更上一层
