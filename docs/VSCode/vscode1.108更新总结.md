# vscode1.108更新总结

Visual Studio Code 1.108（2025 年 12 月版，发布于 **2026 年 1 月 8 日**）带来了大量新功能、改进和修复。以下是主要更新内容的总结：

---

## 更新内容

### 🤖 **智能代理（Agents）**

- **Agent Skills（实验性）**：允许通过 `.github/skills/` 目录中的 `SKILL.md` 文件为 Copilot 添加自定义技能（如脚本、指令等），提升领域特定任务能力。
- **Agent Sessions 视图增强**：
  - 支持键盘操作（归档、读取状态等）
  - 按状态和时间分组会话
  - 显示会话关联的更改文件和 PR
  - 支持批量归档多个会话

---

### 💬 **聊天（Chat）功能改进**

- **聊天会话选择器**：基于 Agent Sessions 视图，可通过快捷键（`agent` + 快速打开）访问历史会话。
- **聊天标题栏始终显示**：无论 Activity Bar 如何配置，均可点击标题快速切换会话。
- **启动时不自动恢复上一会话**：默认打开空聊天窗口（可通过 `chat.viewRestorePreviousSession` 设置改回）。
- **终端命令自动批准规则扩展**：
  - 默认自动批准安全命令（如 `git ls-files`、`rg`、`sed` 等）
  - 自动批准工作区内的 `npm`/`yarn`/`pnpm` 脚本（因已在受信任工作区中）
- **终端命令不写入 Shell 历史**：通过设置（如 `HISTCONTROL=ignorespace`）避免污染命令历史（可关闭）。

---

### ♿ **无障碍（Accessibility）**

- **Accessible View 实时流式响应**：AI 回复生成时动态更新，无需反复关闭重开。
- **排除 MCP 服务器输出**：减少噪音，聚焦主聊天内容。
- **新增窗口标题变量 `${activeEditorLanguageId}`**：便于语音控制工具（如 Talon）识别当前语言。

---

### 🧑‍💻 **编辑体验**

- **拖放导入 `.code-profile` 配置文件**：类似导入工作区，方便团队共享设置。
- **复制面包屑路径**：新增命令可将符号路径（如 `MyClass > method > innerFunc`）复制到剪贴板，支持自定义分隔符。
- **“转到工作区符号”支持 `#`**：修复含 `#` 的查询被过滤的问题（利于 Rust 等语言扩展使用）。

---

### ✂️ **代码编辑**

- **新增代码片段转换**：支持 `snakecase`（下划线命名）和 `kebabcase`（短横线命名）。

  ```text
  ${TM_FILENAME/(.*)/${1:/snakecase}/} → MyFile.txt → my_file.txt
  ```

---

### 🗂️ **源代码管理（Git）**

- **Git Blame 设置增强**：
  - `git.blame.ignoreWhitespace`：忽略空白字符变更，定位真实代码修改。
  - `git.blame.editorDecoration.disableHover`：禁用 blame 悬停提示，保持界面简洁。
- **使用编辑器撰写提交信息**：提交/取消按钮移至编辑器右下角，更易发现。
- **实验性 Worktrees 支持**：在“源代码管理仓库”视图中列出并操作工作树（需开启实验设置）。

---

### 🖥️ **终端（Terminal）**

- **IntelliSense UX 重构**：
  - 默认不再自动弹出建议，需手动按 `Ctrl+Space` 触发。
  - 底部状态栏改用图标（眼形图标可重新启用自动建议）。
  - 首次打开终端时显示轻量提示（可一键永久关闭）。
- **性能与稳定性提升**：
  - macOS/Linux 粘贴大段文本或 Copilot 执行长命令不再卡顿/崩溃。
  - 修复字体（如 CommitMono）导致的崩溃。
- **更丰富的自定义字形支持**：新增近 800 个字符（盲文、复古计算符号、Powerline 等），无需特殊字体。
- **优化花括号下划线渲染**：更接近编辑器效果。
- **调整大小时显示尺寸叠加层**：实时显示列×行数（灵感来自 ghostty）。
- **新增 VT 支持**：如同步输出（防撕裂）、XTVERSION 查询等。

---

### 🐞 **调试（Debug）**

- **断点按文件分组**：通过 `debug.breakpointsView.presentation = "tree"` 启用树状视图。

---

### 🧪 **测试（Testing）**

- **覆盖率导航**：新增工具栏按钮，可快速跳转到未覆盖的代码区域。

---

### 🧩 **扩展相关**

- **GitHub Pull Requests 扩展更新**：
  - 可更改 PR 的 base 分支
  - 将 PR 转为草稿
  - 为已有 PR 生成描述
- **扩展开发 API 新增**：
  - `QuickPick.prompt`：在输入框下方显示持久提示文本。
  - `QuickPickItem.resourceUri`：自动从 URI 推导标签、描述和图标（适用于文件/文件夹选择）。
- **实验性 TypeScript 扩展开发**：支持直接用 TS 编写扩展，无需构建步骤（仍处早期阶段）。

---

### 🧹 **工程与维护**

- **年度清理成果**：
  - 全组织减少 **5,951** 个 GitHub issues，额外分类 **1,203** 个。
  - 核心 `vscode` 仓库关闭 **2,872** 个 issue。
  - `vscode-copilot-release` 仓库清理 **1,659** 个旧 issue。
- 多项内存泄漏修复、UI 微调和底层稳定性改进。

---

### ✅ **其他值得注意的修复**

- 修复聊天输出滚动跳动问题
- 修复多光标复制空选区异常
- 修复终端 Webgl 上下文内存泄漏
- 改进 Markdown 预览滚动同步

---

> 💡 **总结**：VS Code 1.108 在 **AI 智能代理集成、终端体验、无障碍支持、Git 工作流** 和 **开发者扩展能力** 方面有显著提升，同时通过大规模 issue 清理提升了项目健康度。适合希望利用 Copilot 技能、优化终端使用或提升团队配置一致性的开发者升级。

如需完整细节，可访问 [官方更新日志](https://code.visualstudio.com/updates/v1_108)。
